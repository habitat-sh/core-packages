hwloc
=====

The Portable Hardware Locality (hwloc) software package provides a portable abstraction (across OS, versions, architectures, ...) of the hierarchical topology of modern architectures, including NUMA memory nodes, sockets, shared caches, cores and simultaneous multithreading. It also gathers various system attributes such as cache and memory information as well as the locality of I/O devices such as network interfaces, InfiniBand HCAs or GPUs.

## Maintainers

The Habitat Maintainers humans@habitat.sh

## Type of Package

Binary Package

## Usage

### lstopo

A tool to help you visualize how your cores and devices are connected.

```bash
[0][default:/src:0]# hab pkg exec core/hwloc lstopo --output-format ascii
/----------------------------------------------------------------------\
| Machine (1999MB total)                                               |
|                                                                      |
| /------------------------------------------------------------------\ |
| | NUMANode P#0 (1999MB)                                            | |
| \------------------------------------------------------------------/ |
|                                                                      |
| /-----------------\  /-----------------\  /-----------------\        |
| | Package P#0     |  | Package P#1     |  | Package P#2     |        |
| |                 |  |                 |  |                 |        |
| | /-------------\ |  | /-------------\ |  | /-------------\ |        |
| | | L3 (8192KB) | |  | | L3 (8192KB) | |  | | L3 (8192KB) | |        |
| | \-------------/ |  | \-------------/ |  | \-------------/ |        |
| |                 |  |                 |  |                 |        |
| | /------------\  |  | /------------\  |  | /------------\  |        |
| | | L2 (256KB) |  |  | | L2 (256KB) |  |  | | L2 (256KB) |  |        |
| | \------------/  |  | \------------/  |  | \------------/  |        |
| |                 |  |                 |  |                 |        |
| | /------------\  |  | /------------\  |  | /------------\  |        |
| | | L1d (32KB) |  |  | | L1d (32KB) |  |  | | L1d (32KB) |  |        |
| | \------------/  |  | \------------/  |  | \------------/  |        |
| |                 |  |                 |  |                 |        |
| | /------------\  |  | /------------\  |  | /------------\  |        |
| | | L1i (32KB) |  |  | | L1i (32KB) |  |  | | L1i (32KB) |  |        |
| | \------------/  |  | \------------/  |  | \------------/  |        |
| |                 |  |                 |  |                 |        |
| | /------------\  |  | /------------\  |  | /------------\  |        |
| | | Core P#0   |  |  | | Core P#0   |  |  | | Core P#0   |  |        |
| | |            |  |  | |            |  |  | |            |  |        |
| | | /--------\ |  |  | | /--------\ |  |  | | /--------\ |  |        |
| | | | PU P#0 | |  |  | | | PU P#1 | |  |  | | | PU P#2 | |  |        |
| | | \--------/ |  |  | | \--------/ |  |  | | \--------/ |  |        |
| | \------------/  |  | \------------/  |  | \------------/  |        |
| \-----------------/  \-----------------/  \-----------------/        |
|                                                                      |
| /-----------------\            /-------------\  /------------------\ |
| | Package P#3     |  ++--+-----+ PCI 00:01.0 |  | MemoryModule P#0 | |
| |                 |      |     \-------------/  \------------------/ |
| | /-------------\ |      |                                           |
| | | L3 (8192KB) | |      |     /-------------\                       |
| | \-------------/ |      +-----+ PCI 00:02.0 |                       |
| |                 |      |     |             |                       |
| | /------------\  |      |     | /-------\   |                       |
| | | L2 (256KB) |  |      |     | | sda   |   |                       |
| | \------------/  |      |     | |       |   |                       |
| |                 |      |     | | 64 GB |   |                       |
| | /------------\  |      |     | \-------/   |                       |
| | | L1d (32KB) |  |      |     \-------------/                       |
| | \------------/  |      |                                           |
| |                 |      |     /-------------\                       |
| | /------------\  |      +-----+ PCI 00:03.0 |                       |
| | | L1i (32KB) |  |      |     \-------------/                       |
| | \------------/  |      |                                           |
| |                 |      |     /-------------\                       |
| | /------------\  |      +-----+ PCI 00:04.0 |                       |
| | | Core P#0   |  |      |     |             |                       |
| | |            |  |      |     | /--------\  |                       |
| | | /--------\ |  |      |     | | sr0    |  |                       |
| | | | PU P#3 | |  |      |     | |        |  |                       |
| | | \--------/ |  |      |     | | 845 MB |  |                       |
| | \------------/  |      |     | \--------/  |                       |
| \-----------------/      |     \-------------/                       |
|                          |                                           |
|                          |     /-------------\                       |
|                          +-----+ PCI 00:05.0 |                       |
|                                |             |                       |
|                                | /------\    |                       |
|                                | | sr1  |    |                       |
|                                | |      |    |                       |
|                                | | 0 MB |    |                       |
|                                | \------/    |                       |
|                                \-------------/                       |
\----------------------------------------------------------------------/
/----------------------------------------------------------------------\
| Host: 6afed3c3a697                                                   |
|                                                                      |
| Indexes: physical                                                    |
|                                                                      |
| Date: Thu Apr 12 05:18:03 2018                                       |
\----------------------------------------------------------------------/

```
